# Spring

Apollo Kotlin Execution comes with [Spring Webflux](https://docs.spring.io/spring-framework/reference/web/webflux.html) integration.

## Add apollo-execution-spring to your project

> Make sure to follow the steps in ["Getting started"](getting-started.md) first to generate your `ServiceExecutableSchemaBuilder`.

To use the Spring Webflux integration, add `apollo-execution-spring` to your dependencies:

```kotlin
dependencies {
  // Add the runtime dependency
  implementation("com.apollographql.execution:apollo-execution-spring:%latest_version%")
}
```

`apollo-execution-spring` provides `apolloGraphQLRoutes(ExecutableSchema)` to add GET and POST `/graphql` routes to your application:

```kotlin
@SpringBootApplication
class DefaultApplication {
  @Bean
  fun routes() = coRouter {
    apolloGraphQLRoutes(ServiceExecutableSchemaBuilder().build())
  }
}
```

> `ServiceExecutableSchemaBuilder` is generated by the KSP processor. See ["Getting started"](getting-started.md) for more details.

You can also opt in the Apollo Sandbox route by using `apolloSandboxRoutes()`

```kotlin
@SpringBootApplication
class DefaultApplication {
  @Bean
  fun routes() = coRouter {
    // /graphql routes
    apolloGraphQLRoutes(ServiceExecutableSchemaBuilder().build())
    // /sandbox/index.html route
    apolloSandboxRoutes()
  }
}
```

`apolloSandboxModule()` adds a `sandbox/index.html` route to your application.

Open [`http://localhost:8080/sandbox/index.html`](http://localhost:8080/sandbox/index.html) and try out your API in the [Apollo sandbox](https://www.apollographql.com/docs/graphos/explorer/sandbox/)

[![Apollo Sandbox](sandbox.png)](http://localhost:8080/sandbox/index.html)
